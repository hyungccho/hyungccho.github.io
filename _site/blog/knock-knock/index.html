<!doctype html>
<!--[if lt IE 7]><html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]-->
<!--[if (IE 7)&!(IEMobile)]><html class="no-js lt-ie9 lt-ie8" lang="en"><![endif]-->
<!--[if (IE 8)&!(IEMobile)]><html class="no-js lt-ie9" lang="en"><![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"><!--<![endif]-->
<head>
<meta charset="utf-8">
<title>Knock, knock! &#8211; Coder.life</title>

<meta name="keywords" content="">



<!-- Twitter Cards -->
<meta name="twitter:title" content="Knock, knock!">




<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://hyungccho.github.io/images/site-logo.png">

<!-- Open Graph -->
<meta property="og:locale" content="en_US">
<meta property="og:type" content="article">
<meta property="og:title" content="Knock, knock!">

<meta property="og:url" content="http://hyungccho.github.io/blog/knock-knock/">
<meta property="og:site_name" content="Coder.life">





<link rel="canonical" href="http://hyungccho.github.io/blog/knock-knock/">
<link href="http://hyungccho.github.io/feed.xml" type="application/atom+xml" rel="alternate" title="Coder.life Feed">

<!-- https://t.co/dKP3o1e -->
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- For all browsers -->
<link rel="stylesheet" href="http://hyungccho.github.io/assets/css/main.css">
<!-- Webfonts -->
<script src="https://use.edgefonts.net/source-sans-pro:n2,i2,n3,i3,n4,i4,n6,i6,n7,i7,n9,i9;source-code-pro:n4,n7;volkhov.js"></script>

<meta http-equiv="cleartype" content="on">

<!-- HTML5 Shiv and Media Query Support -->
<!--[if lt IE 9]>
  <script src="http://hyungccho.github.io/assets/js/vendor/html5shiv.min.js"></script>
  <script src="http://hyungccho.github.io/assets/js/vendor/respond.min.js"></script>
<![endif]-->

<!-- Modernizr -->
<script src="http://hyungccho.github.io/assets/js/vendor/modernizr-2.7.1.custom.min.js"></script>


<!-- MathJax -->
<script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>


<!-- Icons -->
<!-- 16x16 -->
<link rel="shortcut icon" href="http://hyungccho.github.io/favicon.ico">
<!-- 32x32 -->
<link rel="shortcut icon" href="http://hyungccho.github.io/favicon.png">
<!-- 57x57 (precomposed) for iPhone 3GS, pre-2011 iPod Touch and older Android devices -->
<link rel="apple-touch-icon-precomposed" href="http://hyungccho.github.io/images/apple-touch-icon-precomposed.png">
<!-- 72x72 (precomposed) for 1st generation iPad, iPad 2 and iPad mini -->
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="http://hyungccho.github.io/images/apple-touch-icon-72x72-precomposed.png">
<!-- 114x114 (precomposed) for iPhone 4, 4S, 5 and post-2011 iPod Touch -->
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="http://hyungccho.github.io/images/apple-touch-icon-114x114-precomposed.png">
<!-- 144x144 (precomposed) for iPad 3rd and 4th generation -->
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="http://hyungccho.github.io/images/apple-touch-icon-144x144-precomposed.png">

</head>

<body id="post">

<div class="navigation-wrapper">
	<nav role="navigation" id="site-nav" class="animated drop">
	    <ul>
      
		    
		        
		    
		    <li><a href="http://hyungccho.github.io/about/" >About</a></li>
		  
		    
		        
		    
		    <li><a href="http://hyungccho.github.io/blog/" >Blog</a></li>
		  
	    </ul>
	</nav>
</div><!-- /.navigation-wrapper -->

<!--[if lt IE 9]><div class="upgrade"><strong><a href="http://whatbrowser.org/">Your browser is quite old!</strong> Why not upgrade to a different browser to better enjoy this site?</a></div><![endif]-->

<header class="masthead">
	<div class="wrap">
      
  		<a href="http://hyungccho.github.io/" class="site-logo" rel="home" title="Coder.life"><img src="http://hyungccho.github.io/images/site-logo.png" width="200" height="200" alt="Coder.life logo" class="animated fadeInDown"></a>
      
      <h1 class="site-title animated fadeIn"><a href="http://hyungccho.github.io/">Coder.life</a></h1>
		<h2 class="site-description animated fadeIn" itemprop="description">A Github blog for all...most all things Ruby!</h2>
	</div>
</header><!-- /.masthead -->

<div class="js-menu-screen menu-screen"></div>


<div id="main" role="main">
  <article class="hentry">
    
    <div class="entry-wrapper">
      <header class="entry-header">
        <span class="entry-tags"></span>
        
          <h1 class="entry-title">Knock, knock!</h1>
        
      </header>
      <footer class="entry-meta">
        
        
        
          <img src="http://hyungccho.github.io/images/draft1.jpg" class="bio-photo" alt="Hyung C Cho bio photo"></a>
        
        <span class="author vcard">By <span class="fn">Hyung C Cho</span></span>
        <span class="entry-date date published"><time datetime="2015-09-06T12:39:55-07:00"><i class="fa fa-calendar-o"></i> September 06, 2015</time></span>
        
        
        
        
      </footer>
      <div class="entry-content">
        <p>Who’s there?</p>

<p>…Blocks, and procs!</p>

<p>You might have already heard the saying that everything in Ruby is an object. Ah, yes.. The beauty of objects and our ability
to manipulate them fascinates me. Why are you looking at me like that? Are you trying to say I’m wrong? What? Not EVERYTHING in
Ruby is an object? LIAR!</p>

<h1 id="blocks">Blocks</h1>

<p>That’s what I thought when I heard blocks weren’t objects. But it’s true, blocks technically AREN’T objects in Ruby. Let’s test this
theory in an example:</p>

<div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="p">{</span> <span class="nb">puts</span> <span class="s2">&quot;Hello, world!&quot;</span> <span class="p">}</span> <span class="c1">#=&gt; SyntaxError</span>
<span class="n">var</span> <span class="o">=</span> <span class="p">{</span> <span class="nb">puts</span> <span class="s2">&quot;Hello, world!&quot;</span> <span class="p">}</span> <span class="c1">#=&gt; SyntaxError</span></code></pre></div>

<p>Without having a method calling on the block, it doesn’t get executed.</p>

<p>Let’s go over the basic syntax of block usage. You have probably seen blocks used mostly in this form:</p>

<div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">array</span> <span class="o">=</span> <span class="o">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="o">]</span>

<span class="n">array</span><span class="o">.</span><span class="n">all?</span> <span class="p">{</span> <span class="o">|</span><span class="n">num</span><span class="o">|</span> <span class="n">num</span> <span class="o">&lt;</span> <span class="mi">5</span> <span class="p">}</span>
<span class="c1">#=&gt; true</span>

<span class="n">array</span><span class="o">.</span><span class="n">each</span> <span class="k">do</span> <span class="o">|</span><span class="n">num</span><span class="o">|</span>
  <span class="n">new_num</span> <span class="o">=</span> <span class="n">num</span> <span class="o">+</span> <span class="mi">1</span>
  <span class="nb">puts</span> <span class="n">new_num</span>
<span class="k">end</span>
<span class="c1">#=&gt; 2, 3, 4, 5</span></code></pre></div>

<p>As you can see here, the blocks are being called by the <code>all?</code> and <code>each</code> methods. Blocks come in two forms. The first one we see in our <code>all?</code> example shows the block in <code>{}</code> form. Blocks can take an argument, which is passed as <code>|num|</code> in our example, and it <strong>executes the rest of the block for each element in the array</strong>. The second form of a block is the <code>do...end</code> block. It works in the same way as our curly-bracket enclosed block, accepting an argument, and <strong>executing the code in the block once for each element of the array</strong>. So why have two ways to write a block?</p>

<p>The answer is syntax. Typically, when we want execute a <em>multi-line</em> block, we want to use a <code>do...end</code> block like we see with our each method. When we’re executing <em>single</em> line blocks, we’ll use a curly-bracket enclosed block.</p>

<p>Okay, well I get it. But if blocks aren’t objects, they can’t be utilized for anything else other than when methods call it. It seems useful sure, but what’s the big deal? Why doesn’t Ruby have blocks as objects?</p>

<p>Good question!</p>

<h1 id="proc">Proc</h1>

<p>Blocks aren’t objects, but Ruby has a sweet object called a <strong>Proc</strong> which is exactly what you were looking for! A block, that can be harnessed into a variable, and called upon when needed!</p>

<p>Here’s how you’d create a new proc:</p>

<div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">prc</span> <span class="o">=</span> <span class="no">Proc</span><span class="o">.</span><span class="n">new</span> <span class="p">{</span> <span class="o">|</span><span class="n">element</span><span class="o">|</span> <span class="nb">puts</span> <span class="n">element</span> <span class="p">}</span></code></pre></div>

<p>The proc, <em>is</em> the block. When we try to create a proc without a block, we get an error.</p>

<div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">prc</span> <span class="o">=</span> <span class="no">Proc</span><span class="o">.</span><span class="n">new</span>
<span class="c1">#=&gt; ArgumentError: tried to create Proc object without a block</span></code></pre></div>

<p>Now that we have a proc, how can we use this to our advantage?</p>

<div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">prc</span> <span class="o">=</span> <span class="no">Proc</span><span class="o">.</span><span class="n">new</span> <span class="p">{</span> <span class="o">|</span><span class="n">num</span><span class="o">|</span> <span class="n">num</span> <span class="o">-</span> <span class="mi">5</span> <span class="p">}</span>

<span class="k">def</span> <span class="nf">add_or_subtract</span><span class="p">(</span><span class="n">num1</span><span class="p">,</span> <span class="n">num2</span><span class="p">,</span> <span class="n">prc</span><span class="p">)</span>
  <span class="k">if</span> <span class="n">prc</span><span class="o">.</span><span class="n">nil?</span>
    <span class="n">num1</span> <span class="o">+</span> <span class="n">num2</span>
  <span class="k">else</span>
    <span class="n">prc</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="n">num1</span><span class="p">,</span> <span class="n">num2</span><span class="p">)</span>
  <span class="k">end</span>
<span class="k">end</span></code></pre></div>

<p>Let’s take a look at this code. There’s quite a lot of things going on here.</p>

<ul>
  <li><strong>Line 1</strong>: Nothing new, we’re creating a <code>Proc</code> object and storing it in a variable called <code>prc</code>.</li>
  <li><strong>Line 3</strong>: We’ve defined a method that takes <code>num1</code>, <code>num2</code>, and <code>prc</code> as parameters. That’s sort of new, we’ll go over it.</li>
  <li><strong>Lines 4-5</strong>: If <code>prc</code> is <code>nil</code> then return the result of <code>num1</code> plus <code>num2</code>. Pretty simple.</li>
  <li><strong>Lines 6-7</strong>: If <code>prc</code> is defined, then call the <code>call</code> method on <code>prc</code> and throw in <code>num1</code> and <code>num2</code>. Try taking a guess to what this does!</li>
</ul>

<p>Let’s begin to sort this out case by case. The first case we’ll go over is I think the easiest to understand. The case where we pass in all variables like a good little programmer.</p>

<div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">add_or_subtract</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="n">prc</span><span class="p">)</span>
<span class="c1">#=&gt; 0</span></code></pre></div>

<p>The proc we passed in as <code>prc</code> is not <code>nil</code>, therefore, it executes line 7 by using the proc’s <code>call</code> method. This method is straight forward in that all it’s doing is passing into the proc the arguments supplied in as parentheses. So essentially, our <code>prc.call(num1, num2)</code> method looks like this in a block. <code>{ |num1, num2| num1 - 5 }</code>.</p>

<p>Now you might have noticed that we’re accepting one argument in our <code>prc</code> variable, but we’re passing two parameters to it during the call. Good catch! However, that’s a neat feature of procs. They don’t care that we’re throwing in the wrong number of variables. It just executes the call using the first <code>n</code> number of parameters it needs to execute it. The proc call won’t work if you don’t supply enough arguments.</p>

<p>Cool, awesome. Now let’s move on, but this time, let’s add one new character in our <code>add_or_subtract</code> definition.</p>

<div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">prc</span> <span class="o">=</span> <span class="no">Proc</span><span class="o">.</span><span class="n">new</span> <span class="p">{</span> <span class="o">|</span><span class="n">num</span><span class="o">|</span> <span class="n">num</span> <span class="o">-</span> <span class="mi">5</span> <span class="p">}</span>

<span class="k">def</span> <span class="nf">add_or_subtract</span><span class="p">(</span><span class="n">num1</span><span class="p">,</span> <span class="n">num2</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">prc</span><span class="p">)</span>
  <span class="k">if</span> <span class="n">prc</span><span class="o">.</span><span class="n">nil?</span>
    <span class="n">num1</span> <span class="o">+</span> <span class="n">num2</span>
  <span class="k">else</span>
    <span class="n">prc</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="n">num1</span><span class="p">,</span> <span class="n">num2</span><span class="p">)</span>
  <span class="k">end</span>
<span class="k">end</span></code></pre></div>

<p><span style="color: gray"><em>:If you don’t see it, shame on you! It’s in front of the <code>prc</code> on line 3. The squiggly character called an ampersand.</em></span></p>

<p>What this does is it calls the <code>to_proc</code> method on the variable. Our previous example worked, but what if we don’t always have a proc object to pass in as an argument? Or what if we wanted to do something other than subtract the first number by 5? We would have to create yet another proc object and then pass that in as an argument. There must be a handier way to do it. And there is! It’s the ampersand symbol that allows us to do just that.</p>

<p>So let’s say we don’t have an explicit proc object to pass into the method, but we do know what we want to do inside the block. We can write it like this:</p>

<div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">add_or_subtract</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span> <span class="p">{</span> <span class="o">|</span><span class="n">num</span><span class="o">|</span> <span class="n">num</span> <span class="o">-</span> <span class="mi">2</span> <span class="p">}</span>
<span class="c1">#=&gt; 3</span></code></pre></div>

<p>The ampersand makes passing the proc in as a variable optional, and looks for a block following the method call. If there is, then it stores the block into <code>prc</code> so that we can use it for something else if we wanted to. If there isn’t, then it remains as <code>nil</code>.</p>

<p>Similarly, we might never create a proc object before calling our method, and sometimes we want the prc to default into something if it doesn’t have a block following it. Here’s an example:</p>

<div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">array</span> <span class="o">=</span> <span class="o">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="o">]</span>

<span class="n">array</span><span class="o">.</span><span class="n">sort</span> <span class="p">{</span> <span class="o">|</span><span class="n">num1</span><span class="p">,</span> <span class="n">num2</span><span class="o">|</span> <span class="n">num2</span> <span class="o">&lt;=&gt;</span> <span class="n">num1</span> <span class="p">}</span>
<span class="c1">#=&gt; [5, 4, 3, 2, 1]</span>

<span class="n">array</span><span class="o">.</span><span class="n">sort</span>
<span class="c1">#=&gt; [1, 2, 3, 4, 5]</span></code></pre></div>

<p>Here’s what’s kind of going on behind the scenes:</p>

<p><span style="color: gray"><em>:This implementation of sort below is bubble sort. Ruby’s built in sort method doesn’t use bubble sort, but for demonstration purposes, we’ll be using bubble sort.</em></span></p>

<div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="k">class</span> <span class="nc">Array</span>
  <span class="k">def</span> <span class="nf">sort</span><span class="p">(</span><span class="o">&amp;</span><span class="n">prc</span><span class="p">)</span>
    <span class="n">prc</span> <span class="o">||=</span> <span class="no">Proc</span><span class="o">.</span><span class="n">new</span> <span class="p">{</span> <span class="o">|</span><span class="n">num1</span><span class="p">,</span> <span class="n">num2</span><span class="o">|</span> <span class="n">num1</span> <span class="o">&lt;=&gt;</span> <span class="n">num2</span> <span class="p">}</span>

    <span class="n">sorted</span> <span class="o">=</span> <span class="kp">false</span>
    <span class="k">until</span> <span class="n">sorted</span>
      <span class="n">sorted</span> <span class="o">=</span> <span class="kp">true</span>

      <span class="p">(</span><span class="nb">self</span><span class="o">.</span><span class="n">length</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">times</span> <span class="k">do</span> <span class="o">|</span><span class="n">i</span><span class="o">|</span>
        <span class="k">if</span> <span class="n">prc</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="nb">self</span><span class="o">[</span><span class="n">i</span><span class="o">]</span><span class="p">,</span> <span class="nb">self</span><span class="o">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="o">]</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span>
          <span class="nb">self</span><span class="o">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="o">]</span><span class="p">,</span> <span class="nb">self</span><span class="o">[</span><span class="n">i</span><span class="o">]</span> <span class="o">=</span> <span class="nb">self</span><span class="o">[</span><span class="n">i</span><span class="o">]</span><span class="p">,</span> <span class="nb">self</span><span class="o">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="o">]</span>
          <span class="n">sorted</span> <span class="o">=</span> <span class="kp">false</span>
        <span class="k">end</span>
      <span class="k">end</span>
    <span class="k">end</span>
    <span class="nb">self</span>
  <span class="k">end</span>
<span class="k">end</span></code></pre></div>

<p>Don’t worry if you don’t know what that does. The only thing you should take from our sort example is that it takes an <code>&amp;prc</code> parameter just like our method, and it uses the passed proc if it’s not <code>nil</code>. If it is <code>nil</code>, we set it to our own default proc. Because we have it set up like this, we don’t ever have to explicitly create a proc object before calling the method. Pretty neat.</p>

<p>You might have also noticed that we never <code>return</code> inside a block. That’s because when we do, it’ll return an error.</p>

<div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">array</span> <span class="o">=</span> <span class="o">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="o">]</span>

<span class="n">array</span><span class="o">.</span><span class="n">sort</span> <span class="p">{</span> <span class="o">|</span><span class="n">num1</span><span class="p">,</span> <span class="n">num2</span><span class="o">|</span> <span class="k">return</span> <span class="n">num1</span> <span class="o">&lt;=&gt;</span> <span class="n">num2</span> <span class="p">}</span>
<span class="c1">#=&gt; LocalJumpError: unexpected return</span></code></pre></div>

<p>Ruby doesn’t expect us to <code>return</code> inside a block. The return value is implicit, meaning <code>array.sort { |num1, num2| num1 &lt;=&gt; num2 }</code> will implicitly return -1, 0, or 1.</p>

<p><span style="color: gray"><em>::There is a way to explicitly return from a proc using something called a lambda. However, I wont be going over lambdas in this post.</em></span></p>

<p>Now that we’ve come this far, let’s go over some of the properties of procs and blocks.</p>

<ul>
  <li>Procs are objects in Ruby, blocks are not.</li>
  <li>Procs can be passed in as an optional argument using <code>&amp;</code>. It defaults to a block following the call on the method if it’s not passed in explicitly, or <code>nil</code> if neither are supplied.</li>
  <li>Procs can take any number of arguments so long as it supplies <strong>enough</strong> arguments.</li>
</ul>

<p>I would say knowing procs and blocks cover 90% of all usage in basic Ruby, but there is one other form of proc, and one other way to access a block. The other form of a proc is called a lambda, and the other way to access a block is through <code>yield</code>. I’ll only be going over <code>yield</code> in this post.</p>

<h1 id="yield">Yield</h1>

<p>We know by now what a block looks like, how it takes parameters, and how it returns implicitly based on executing the code in the block. We also know how to set that block into a proc and access it using a proc, but there is another way using <code>yield</code>.</p>

<p>Let’s go ahead and rewrite our initial <code>add_or_subtract</code> method using <code>yield</code>.</p>

<div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="k">def</span> <span class="nf">add_or_subtract</span><span class="p">(</span><span class="n">num1</span><span class="p">,</span> <span class="n">num2</span><span class="p">)</span>
  <span class="k">if</span> <span class="nb">block_given?</span>
    <span class="k">yield</span><span class="p">(</span><span class="n">num1</span><span class="p">,</span> <span class="n">num2</span><span class="p">)</span>
  <span class="k">else</span>
    <span class="n">num1</span> <span class="o">+</span> <span class="n">num2</span>
  <span class="k">end</span>
<span class="k">end</span></code></pre></div>

<p>Looks similar, but instead of using <code>prc.nil?</code> we use <code>block_given?</code>, and instead of using <code>prc.call(num1, num2)</code> we use <code>yield(num1, num2)</code>. If it looks like a duck, swims like a duck, and quacks like a duck, it probably is a duck, right? Not exactly. If we look back to the example where we used <code>&amp;prc</code>, Ruby didn’t care whether or not we assigned a block to it. But <code>yield</code> is like a sensitive teen. Here it is in action, but we’ll modify our method a little to try and mimic the <code>&amp;prc</code>:</p>

<div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="k">def</span> <span class="nf">add_or_subtract</span><span class="p">(</span><span class="n">num1</span><span class="p">,</span> <span class="n">num2</span><span class="p">)</span>
  <span class="k">if</span> <span class="k">yield</span><span class="o">.</span><span class="n">nil?</span>
    <span class="n">num1</span> <span class="o">+</span> <span class="n">num2</span>
  <span class="k">else</span>
    <span class="k">yield</span><span class="p">(</span><span class="n">num1</span><span class="p">,</span> <span class="n">num2</span><span class="p">)</span>
  <span class="k">end</span>
<span class="k">end</span>

<span class="n">add_or_subtract</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="c1">#=&gt; LocalJumpError: no block given (yield)</span></code></pre></div>

<p>Okay, fine have it your way. I’ll give you a damn block.</p>

<div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">add_or_subtract</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span> <span class="p">{</span> <span class="o">|</span><span class="n">num</span><span class="o">|</span> <span class="n">num</span> <span class="o">-</span> <span class="mi">5</span> <span class="p">}</span>
<span class="c1">#=&gt; NoMethodError: undefined method &#39;-&#39; for nil:NilClass</span></code></pre></div>

<p>GRRRRR… FINE.</p>

<div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="k">def</span> <span class="nf">add_or_subtract</span><span class="p">(</span><span class="n">num1</span><span class="p">,</span> <span class="n">num2</span><span class="p">)</span>
  <span class="k">if</span> <span class="nb">block_given?</span>
    <span class="k">yield</span><span class="p">(</span><span class="n">num1</span><span class="p">,</span> <span class="n">num2</span><span class="p">)</span>
  <span class="k">end</span>
<span class="k">end</span>

<span class="n">add_or_subtract</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span> <span class="p">{</span> <span class="o">|</span><span class="n">num</span><span class="o">|</span> <span class="n">num</span> <span class="o">-</span> <span class="mi">5</span> <span class="p">}</span>
<span class="c1">#=&gt; 0</span></code></pre></div>

<p>You can see through this that <code>yield</code> needs to meet pretty specific conditions, and if it doesn’t will throw errors. One advantage to yield, however, is that it processes the block (almost 2x) faster than a proc does. Which I guess is cool…</p>

<p>So there you have it! Procs and blocks are extremely useful once you understand how to implement it, but they can be a rather confusing topic for beginners. If I left you hanging with questions, feel free to contact me. I’m available by e-mail: hyungchulcho93@gmail.com. Ciao!</p>

        
      </div><!-- /.entry-content -->
    </div><!-- /.entry-wrapper -->
    <nav class="pagination" role="navigation">
      
        <a href="http://hyungccho.github.io/blog/attr-and-initialize/" class="btn" title="reader, writer, and accessor">Previous</a>
      
      
        <a href="http://hyungccho.github.io/blog/data-structures/" class="btn" title="Sort War!">Next</a>
      
    </nav><!-- /.pagination -->
  </article>
</div><!-- /#main -->

<div class="footer-wrapper">
  <footer role="contentinfo" class="entry-wrapper">
    

<span>&copy; 2015 Hyung C Cho. Powered by <a href="http://jekyllrb.com" rel="nofollow">Jekyll</a> using the <a href="http://mademistakes.com/so-simple/" rel="nofollow">So Simple Theme</a>.</span>
<div class="social-icons">
	
	
	
	
	
	
	
	
	
  
	
  <a href="http://hyungccho.github.io/feed.xml" title="Atom/RSS feed"><i class="fa fa-rss-square fa-2x"></i></a>
</div><!-- /.social-icons -->

  </footer>
</div><!-- /.footer-wrapper -->

<script type="text/javascript">
  var BASE_URL = 'http://hyungccho.github.io';
</script>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script>window.jQuery || document.write('<script src="http://hyungccho.github.io/assets/js/vendor/jquery-1.9.1.min.js"><\/script>')</script>
<script src="http://hyungccho.github.io/assets/js/scripts.min.js"></script>




</body>
</html>
